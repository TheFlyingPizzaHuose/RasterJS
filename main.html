<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <title>RasterJS</title>
    <link type="text/css" rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
</head>
    <script async type="module" src="main.js" allow="cross-origin-isolated"></script>
    <body class='customBG'>
        <h1>Welcome to RasterJS v1.8</h1>
        <p style="word-wrap: break-word;">This is a Javascript based Rasterization(3d) program. 
            This program is a work in progress and this is the latest usable version.
        </p>
        <br>
        <br>
        <p>
        What you see on the screen bellow is a planet in the midst of being obliterated with it's asteriod ring. Since the recent texture
        mapping feature hasn't been optimized, moving close to objects will result in major performance drops so beware. Some textures are also
        quite large in file size and therfore might not load depending on internet speed. This will make some objects in the world appear
        as pure purple/magenta. The website will attempt to reload these textures every 10 seconds so do not worry.
        </p>
        <br>
        <br>
        <p>
        The position of the sun (time of day) is dependent on real world time and repeats every 20 minutes
        </p>
        <br>
        <br>
        <p>
        You may also import custom models.
        But first ensure that the models are in an obj format and only have polygons with 3 verticies, the program doesn't support quad or n-gons.
        To select the color of the imported object, you must change the RGB values before importing it.
        </p>
        <br>
        <br>
        <p>
        It is strongly recommended that mobile users enter the fullscreen mode via the button bellow for the best experience
        </p>
        <br>
        <br>
        <h3>
        Controls (Toggle for mobile):
        </h3>
        <ul>
            <li>Speed Up: Z</li>
            <li>Slow Down: X</li>
            <li>Forward: W</li>
            <li>Backward: S</li>
            <li>Left: A</li>
            <li>Right: D</li>
            <li>Up: Space</li>
            <li>Tilt Left: Q</li>
            <li>Tilt Right: E</li>
            <li>Down: Left Shift</li>
            <li>Camera Look Around (PC): Left Click and Move Mouse</li>
            <li>Camera Look Around (Mobile): Tap and Drag</li>
            <li>Stop Camera Look Around: ESC</li>
            <li>Hide/Unhide Settings (Recommended in fullscreen mode): M</li>
        </ul>
        <br>
        <br>
        <p>
        Music:
        </p>
        <ul>
            <li>Kevin MacLeod _ Arcadia</li>
        </ul>
        <br>
        <table class="mainTable" style="display: inline-block;">
            <tr>
                <td style='width: 40%;'>
                    <p>Import .obj file:</p>
                    <input type="file" id="file" style="width:23%">
                </td>
                <td style='width: 50%;'>
                    <p>Fov: </p>
                    <input type="range" id="fov" value="100" min='10' max='179'>
                </td>
            </tr>
            <tr>
                <td>
                    <form>
                        <p>Color RGB: </p>
                        <input  type="number" id="B" value='0' max='255'>
                        <input type="number" id="G" value='255' max='255'>
                        <input type="number" id="R" value='0' max='255'>
                        <div id='colorPick' style='border-radius: 15%;float: right;color: lime; background-color: lime; display: inline; font-size: 20px;'>----</div>
                    </form>
                </td> 
                <td>
                    <p>Gamma: </p>
                    <input type="range" id="gamma" value="3" min='1' max='10'>
                </td> 
            </tr>
            <tr>
                <td>
                    <form>
                        <p>OBJ Position: </p>
                        <input  type="number" id="X" value='0'>
                        <input type="number" id="Y" value='0'>
                        <input type="number" id="Z" value='0'>
                    </form>
                </td>
                <td>
                    <p>ResolutionX: </p>
                    <input type="number" id="resolutionX" value="800">
                </td>
            </tr>
            <tr>
                <td>
                    <p>Scale: </p>
                    <input type="number" id="scale" value='1'>
                </td>
                <td>
                    <p>ResolutionY: </p>
                    <input type="number" id="resolutionY" value="430">
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <p>Sensitivity: </p>
                    <input type="number" id="sens" value="0.1">
                </td>
            </tr>
        </table>
        <table class="mainTable">
            <tr>
                <td>
                    <p id="Frames" style='color: orange'>Frames: </p>
                </td>
                <td>
                    <p id="Framerate" style='color: orange'>Framerate: </p>
                </td>
                <td>       
                    <p id='Frametimelabel' style='display: inline; color: orange;'>Frametime: </p>
                    <canvas class="d-inline" id="Frametime" width="200" height="50"></canvas>
                </td>
                <td>
                    <p id="Vertex Count" style='color: orange'>Vertex Count: </p>
                </td>
            </tr>
        </table>
        <h2 class='d-inline'>Viewport</h2>
        <a href="/screenOnly" id='homeButton'><button value='Submit' class="btn btn-primary d-inline">Fullscreen</button></a>
        <p style='display: inline;' id='inputLabel'>Click For Mobile Keyboard Input: </p>
        <input type="text" id="keys" style='width: 20px; display: inline; float: none'>
        <audio controls loop id="music" style='display: none'>
            <source src="./music/Kevin MacLeod _ Arcadia.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <canvas class="screen" id="screen" width="800" height="460"></canvas>
        <canvas id="texture" style="display: none"></canvas>
    </body>
</html>